{% comment %}

  *** Stylesheets ***

  Include the most critical CSS first. But as this is a theme and we don't know
  or have control over what content is above the fold we only include foundational
  styles for common elements such as typograhpy and buttons.
  It also includes the header styles as we know this will always be above the fold.
  However, because we don't have access to build tools to update this when the
  theme is run on Shopify or edited from the Shopify online editor, this is not
  inlined as critical CSS normaly is. Instead this is referenecd as a render
  blocking link so there is no flash of unstyled elements. The link is preloaded
  if that is available for increased speed.

  The rest of the themes non-critical styles are loaded asynchronously.
  Reference: https://csabapalfi.github.io/eliminate-render-blocking/

  `core.scss.css`: The base/critical styles for the theme
  `theme.scss.css`: The main/non-critical styles for the theme

{% endcomment %}

<link rel="preload" href="{{ 'core.scss.css' | asset_url }}" as="style">
<link rel="stylesheet" href="{{ 'core.scss.css' | asset_url }}">

<link rel="preload" href="{{ 'theme.scss.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="{{ 'theme.scss.css' | asset_url }}"></noscript>

{%- if styleguide %}
<link rel="preload" href="{{ 'styleguide.scss.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="{{ 'styleguide.scss.css' | asset_url }}"></noscript>
{% endif -%}

<script>
/*! loadCSS rel=preload polyfill. [c]2017 Filament Group, Inc. MIT License */
!function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){var e=t.media||"all";function a(){t.media=e}t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onload",a),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(a,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);
</script>
